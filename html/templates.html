<templates>
	<template id="header">
		<ul class="nav nav-tabs">
			<li id="syno">
				<a href="syno.html">Syno</a>
			</li>
			<li id="gd32">
				<a href="gd32.html">GD32</a>
			</li>
			<li>
				<div class="dropdown">
					<button id="bauds" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
						串口波特率: 57600 <span class="caret"></span>
					</button>
					<ul class="dropdown-menu"></ul>
				</div>
			</li>
			<li>
				<div class="dropdown">
					<button id="devices" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
						设备: <span class="caret"></span>
					</button>
					<ul class="dropdown-menu"></ul>
				</div>
			</li>
		</ul>

		<style>
			.dropdown-menu {
				padding: 5%;
			}
		</style>
		<script>
			$(document).ready(function() {
				let filename = window.location.pathname.split("/").pop();
				filename = filename.toLowerCase();
				if (filename == "syno.html") {
					$("#syno").addClass("active");
					$("#gd32").removeClass("active");
				}
				if (filename == "gd32.html") {
					$("#gd32").addClass("active");
					$("#syno").removeClass("active");
				}

				var ul = $("#bauds").siblings(".dropdown-menu");
				var datas = [921600, 460800, 230400, 115200, 57600, 9600];
				for (var data of datas) {
					ul.append(`<button class="btn btn-default btn-block baud">${data}</button>`);
				}

				var ul = $("#devices").siblings(".dropdown-menu");
				serial.list(function (err, ports) {
					ports.forEach(function(port) {
						if (port.comName != undefined &&
							port.pnpId != undefined &&
							port.manufacturer != undefined)
							ul.append(`<button class="btn btn-default btn-block device">${port.comName}</button>`);
					});
					
					$(".device").click(e => {
						$("#devices").text(`设备: ${$(e.target).text()} `);
						$("#devices").append('<span class="caret"></span>');
					});
				});

				$(".baud").click(e => {
					$("#bauds").text(`串口波特率: ${$(e.target).text()} `);
					$("#bauds").append('<span class="caret"></span>');
				});
			});
		</script>
	</template>
	<!-- <template id="header">
		<div class="navbar-header">
			<button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".navbar-collapse">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="/">.Net Library</a>
		</div>
		<div class="navbar-collapse collapse" role="navigation">
			<div style="margin-top:15px;margin-left:120px; position:absolute;"><span
					style="color:white;padding-top:20px;">XXXXX</span></div>
			<ul class="nav navbar-nav"></ul>
			<ul class="nav navbar-nav navbar-right">
				<li><a href="/Blog.html">博客</a></li>
				<li><a href="https://github.com/IKende/FastHttpApi" target="_blank">github.com</a></li>
				<li><a href="/admin/index.html">网站管理</a></li>
			</ul>
		</div>
	</template>
	<template id="doc_tags_navbar">
		<div class="container-fluid" style="padding:0px;">
			<ul class="nav navbar-nav btn-group-sm" id="tagbar">
				<li><a style="font-weight:bold; padding-bottom:6px;padding-top:6px;" href="/index.html">首页</a></li>
				<li v-for="item in Data"><a v-bind:title="item.Remark"
						style="font-weight:bold; padding-bottom:6px;padding-top:6px;"
						v-bind:href="['/index.html?tag='+item.ID]">{{item.Title}}</a></li>
			</ul>
		</div>
		<script>
				// var tagbarControl;
				// tagbarControl = new Vue({ el: '#tagbar', data: { Data: [] } });
				// async function ListDocTags() {
				// 	var result = await $ListDocTags();
				// 	tagbarControl.Data = result.Data;
				// }
				// ListDocTags();
		</script>
	</template> -->
	<templates>
